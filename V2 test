-- Roblox UI Menu Script with Tabs

-- Tạo một ScreenGui để chứa tất cả các phần tử UI của chúng ta
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MyUIMenu"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Tạo một Frame hình chữ nhật cho menu chính
local menuFrame = Instance.new("Frame")
menuFrame.Name = "MenuFrame"
menuFrame.Size = UDim2.new(0.4, 0, 0.6, 0) -- Kích thước lớn hơn để chứa tab
menuFrame.Position = UDim2.new(0.3, 0, 0.2, 0) -- Vị trí: Giữa màn hình
menuFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40) -- Màu nền tối
menuFrame.BorderSizePixel = 0
menuFrame.Active = true -- Cho phép kéo
menuFrame.Draggable = true -- Cho phép kéo
menuFrame.Parent = screenGui

-- Thêm một UIStroke để tạo viền cho Frame
local menuStroke = Instance.new("UIStroke")
menuStroke.Color = Color3.fromRGB(70, 70, 70)
menuStroke.Thickness = 2
menuStroke.Parent = menuFrame

-- Thêm một UICorner để làm tròn các góc của Frame
local menuCorner = Instance.new("UICorner")
menuCorner.CornerRadius = UDim.new(0, 8) -- Bán kính góc 8 pixel
menuCorner.Parent = menuFrame

-- Tạo một TextLabel cho tiêu đề menu
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "TitleLabel"
titleLabel.Size = UDim2.new(1, 0, 0.08, 0) -- Chiếm toàn bộ chiều rộng, 8% chiều cao của Frame
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.TextSize = 20
titleLabel.Text = "Menu của tôi"
titleLabel.Parent = menuFrame

-- Thêm một UIStroke cho tiêu đề
local titleStroke = Instance.new("UIStroke")
titleStroke.Color = Color3.fromRGB(90, 90, 90)
titleStroke.Thickness = 1
titleStroke.Parent = titleLabel

-- Thêm một UICorner để làm tròn các góc trên của tiêu đề
local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 8)
titleCorner.Parent = titleLabel

-- Tạo nút đóng menu
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 30, 0, 30) -- Kích thước cố định 30x30 pixel
closeButton.Position = UDim2.new(1, -35, 0, 5) -- Góc trên bên phải của Frame
closeButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50) -- Màu đỏ
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Font = Enum.Font.SourceSansBold
closeButton.TextSize = 20
closeButton.Text = "X"
closeButton.Parent = menuFrame

-- Thêm một UICorner cho nút đóng
local closeButtonCorner = Instance.new("UICorner")
closeButtonCorner.CornerRadius = UDim.new(0, 5)
closeButtonCorner.Parent = closeButton

-- Tạo nút mở menu (sẽ hiển thị khi menu bị đóng)
local openButton = Instance.new("TextButton")
openButton.Name = "OpenButton"
openButton.Size = UDim2.new(0, 100, 0, 40) -- Kích thước cố định
openButton.Position = UDim2.new(0.05, 0, 0.05, 0) -- Góc trên bên trái màn hình
openButton.BackgroundColor3 = Color3.fromRGB(50, 150, 200) -- Màu xanh
openButton.TextColor3 = Color3.fromRGB(255, 255, 255)
openButton.Font = Enum.Font.SourceSansBold
openButton.TextSize = 18
openButton.Text = "Mở Menu"
openButton.Parent = screenGui
openButton.Visible = false -- Ban đầu ẩn, chỉ hiển thị khi menu đóng

-- Thêm một UICorner cho nút mở
local openButtonCorner = Instance.new("UICorner")
openButtonCorner.CornerRadius = UDim.new(0, 8)
openButtonCorner.Parent = openButton

-- Tạo khung chứa các nút tab
local tabBarFrame = Instance.new("Frame")
tabBarFrame.Name = "TabBarFrame"
tabBarFrame.Size = UDim2.new(1, 0, 0.1, 0) -- Chiếm toàn bộ chiều rộng, 10% chiều cao của Frame
tabBarFrame.Position = UDim2.new(0, 0, 0.08, 0) -- Ngay dưới tiêu đề
tabBarFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
tabBarFrame.BorderSizePixel = 0
tabBarFrame.Parent = menuFrame

-- Thêm UIListLayout để sắp xếp các nút tab theo chiều ngang
local tabListLayout = Instance.new("UIListLayout")
tabListLayout.FillDirection = Enum.FillDirection.Horizontal
tabListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
tabListLayout.Padding = UDim.new(0, 5) -- Khoảng cách giữa các tab
tabListLayout.Parent = tabBarFrame

-- Tạo khung chứa nội dung của các tab
local contentFrameContainer = Instance.new("Frame")
contentFrameContainer.Name = "ContentFrameContainer"
contentFrameContainer.Size = UDim2.new(1, 0, 0.82, 0) -- Phần còn lại của menuFrame
contentFrameContainer.Position = UDim2.new(0, 0, 0.18, 0) -- Ngay dưới tabBarFrame
contentFrameContainer.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
contentFrameContainer.BorderSizePixel = 0
contentFrameContainer.Parent = menuFrame

-- Thêm UICorner cho contentFrameContainer
local contentCorner = Instance.new("UICorner")
contentCorner.CornerRadius = UDim.new(0, 8)
contentCorner.Parent = contentFrameContainer

-- Bảng để lưu trữ các khung nội dung tab
local tabContents = {}

-- Hàm để tạo nút tab và khung nội dung
local function createTab(tabName, content)
    -- Tạo nút tab
    local tabButton = Instance.new("TextButton")
    tabButton.Name = tabName .. "TabButton"
    tabButton.Size = UDim2.new(0.3, 0, 0.8, 0) -- Kích thước nút tab
    tabButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    tabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    tabButton.Font = Enum.Font.SourceSansBold
    tabButton.TextSize = 16
    tabButton.Text = tabName
    tabButton.Parent = tabBarFrame

    local tabButtonCorner = Instance.new("UICorner")
    tabButtonCorner.CornerRadius = UDim.new(0, 5)
    tabButtonCorner.Parent = tabButton

    -- Tạo khung nội dung cho tab
    local tabContentFrame = Instance.new("Frame")
    tabContentFrame.Name = tabName .. "Content"
    tabContentFrame.Size = UDim2.new(1, 0, 1, 0)
    tabContentFrame.Position = UDim2.new(0, 0, 0, 0)
    tabContentFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60) -- Màu nền nội dung
    tabContentFrame.BorderSizePixel = 0
    tabContentFrame.Visible = false -- Ban đầu ẩn
    tabContentFrame.Parent = contentFrameContainer

    -- Thêm nội dung vào khung tab
    if typeof(content) == "function" then
        content(tabContentFrame) -- Gọi hàm để thêm nội dung
    else
        local defaultLabel = Instance.new("TextLabel")
        defaultLabel.Size = UDim2.new(0.9, 0, 0.2, 0)
        defaultLabel.Position = UDim2.new(0.05, 0, 0.4, 0)
        defaultLabel.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
        defaultLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        defaultLabel.Font = Enum.Font.SourceSans
        defaultLabel.TextSize = 18
        defaultLabel.Text = "Đây là nội dung cho " .. tabName
        defaultLabel.Parent = tabContentFrame
    end

    tabContents[tabName] = tabContentFrame

    -- Xử lý sự kiện khi nhấp vào nút tab
    tabButton.MouseButton1Click:Connect(function()
        -- Ẩn tất cả các khung nội dung
        for _, frame in pairs(tabContents) do
            frame.Visible = false
        end
        -- Hiển thị khung nội dung của tab được chọn
        tabContentFrame.Visible = true

        -- Cập nhật màu nút tab (tùy chọn)
        for _, btn in pairs(tabBarFrame:GetChildren()) do
            if btn:IsA("TextButton") then
                btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70) -- Màu mặc định
            end
        end
        tabButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90) -- Màu khi được chọn
    end)

    return tabButton
end

-- Định nghĩa các tab và nội dung của chúng
-- Tab 1: Trang chủ
createTab("Trang chủ", function(parentFrame)
    local welcomeLabel = Instance.new("TextLabel")
    welcomeLabel.Size = UDim2.new(0.9, 0, 0.3, 0)
    welcomeLabel.Position = UDim2.new(0.05, 0, 0.1, 0)
    welcomeLabel.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    welcomeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    welcomeLabel.Font = Enum.Font.SourceSansBold
    welcomeLabel.TextSize = 24
    welcomeLabel.Text = "Chào mừng đến với Menu!"
    welcomeLabel.TextWrapped = true
    welcomeLabel.Parent = parentFrame

    local infoLabel = Instance.new("TextLabel")
    infoLabel.Size = UDim2.new(0.9, 0, 0.4, 0)
    infoLabel.Position = UDim2.new(0.05, 0, 0.45, 0)
    infoLabel.BackgroundColor3 = Color3.fromRGB(65, 65, 65)
    infoLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    infoLabel.Font = Enum.Font.SourceSans
    infoLabel.TextSize = 16
    infoLabel.Text = "Sử dụng các tab ở trên để điều hướng qua các phần khác nhau của menu. Mỗi tab có thể chứa các nút, thông tin hoặc các điều khiển khác."
    infoLabel.TextWrapped = true
    infoLabel.TextXAlignment = Enum.TextXAlignment.Left
    infoLabel.TextYAlignment = Enum.TextYAlignment.Top
    infoLabel.Parent = parentFrame
end)

-- Tab 2: Cài đặt
createTab("Cài đặt", function(parentFrame)
    local setting1Label = Instance.new("TextLabel")
    setting1Label.Size = UDim2.new(0.9, 0, 0.1, 0)
    setting1Label.Position = UDim2.new(0.05, 0, 0.05, 0)
    setting1Label.BackgroundColor3 = Color3.fromRGB(75, 75, 75)
    setting1Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    setting1Label.Font = Enum.Font.SourceSans
    setting1Label.TextSize = 18
    setting1Label.Text = "Tùy chọn 1: Bật/Tắt Âm thanh"
    setting1Label.TextXAlignment = Enum.TextXAlignment.Left
    setting1Label.Parent = parentFrame

    local toggleButton = Instance.new("TextButton")
    toggleButton.Size = UDim2.new(0, 60, 0, 30)
    toggleButton.Position = UDim2.new(0.8, 0, 0.06, 0)
    toggleButton.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
    toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    toggleButton.Font = Enum.Font.SourceSansBold
    toggleButton.TextSize = 16
    toggleButton.Text = "Bật"
    toggleButton.Parent = parentFrame

    local isSoundOn = true
    toggleButton.MouseButton1Click:Connect(function()
        isSoundOn = not isSoundOn
        if isSoundOn then
            toggleButton.Text = "Bật"
            toggleButton.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
            print("Âm thanh đã bật!")
        else
            toggleButton.Text = "Tắt"
            toggleButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
            print("Âm thanh đã tắt!")
        end
    end)
end)

-- Tab 3: Công cụ
createTab("Công cụ", function(parentFrame)
    local toolButton1 = Instance.new("TextButton")
    toolButton1.Name = "H4xButton" -- Đổi tên nút
    toolButton1.Size = UDim2.new(0.8, 0, 0.15, 0)
    toolButton1.Position = UDim2.new(0.1, 0, 0.1, 0)
    toolButton1.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    toolButton1.TextColor3 = Color3.fromRGB(255, 255, 255)
    toolButton1.Font = Enum.Font.SourceSansBold
    toolButton1.TextSize = 18
    toolButton1.Text = "H4x" -- Đổi văn bản hiển thị
    toolButton1.Parent = parentFrame

    toolButton1.MouseButton1Click:Connect(function()
        print("Đang tải script H4x...")
        loadstring(game:HttpGet("https://raw.githubusercontent.com/H4xScripts/Loader/refs/heads/main/loader.lua", true))()
    end)

    local toolButton2 = Instance.new("TextButton")
    toolButton2.Size = UDim2.new(0.8, 0, 0.15, 0)
    toolButton2.Position = UDim2.new(0.1, 0, 0.3, 0)
    toolButton2.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    toolButton2.TextColor3 = Color3.fromRGB(255, 255, 255)
    toolButton2.Font = Enum.Font.SourceSansBold
    toolButton2.TextSize = 18
    toolButton2.Text = "Thực thi Công cụ B"
    toolButton2.Parent = parentFrame

    toolButton2.MouseButton1Click:Connect(function()
        print("Công cụ B đã được thực thi!")
        -- Đây là nơi bạn sẽ thêm mã cho Công cụ B
    end)
end)

-- Logic để đóng menu
closeButton.MouseButton1Click:Connect(function()
    menuFrame.Visible = false -- Ẩn menu
    openButton.Visible = true -- Hiển thị nút mở
end)

-- Logic để mở menu
openButton.MouseButton1Click:Connect(function()
    menuFrame.Visible = true -- Hiển thị menu
    openButton.Visible = false -- Ẩn nút mở
end)

-- Đảm bảo menu hiển thị ban đầu và chọn tab đầu tiên
menuFrame.Visible = true
openButton.Visible = false

-- Kích hoạt tab đầu tiên khi menu được tải
if tabContents["Trang chủ"] then
    tabContents["Trang chủ"].Visible = true
    -- Cập nhật màu nút tab đầu tiên
    for _, btn in pairs(tabBarFrame:GetChildren()) do
        if btn:IsA("TextButton") and btn.Name == "Trang chủTabButton" then
            btn.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
            break
        end
    end
end
